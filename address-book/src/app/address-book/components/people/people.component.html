<p>people works!</p>

<ng-container *ngIf="paginatedPeople$ | async as people; else loading">
  <!-- TODO: extract table to component with input of people.results -->
  
  <table mat-table [dataSource]="people.results" class="mat-elevation-z8">
    <!-- Thumbnail Column -->
    <ng-container matColumnDef="thumbnail">
      <th mat-header-cell *matHeaderCellDef> Thumbnail </th>
      <td mat-cell *matCellDef="let element">
        <img src="{{element.picture.thumbnail}}" alt="thumbnail image" />
      </td>
    </ng-container>

    <!-- Gender Column -->
    <ng-container matColumnDef="gender">
      <th mat-header-cell *matHeaderCellDef> Gender </th>
      <td mat-cell *matCellDef="let element">{{element.gender}}</td>
    </ng-container>

    <!-- Phone Column -->
    <ng-container matColumnDef="phone">
      <th mat-header-cell *matHeaderCellDef> Phone </th>
      <td mat-cell *matCellDef="let element">{{element.phone}}</td>
    </ng-container>

    <!-- Email Column -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> Email </th>
      <td mat-cell *matCellDef="let element">{{element.email}}</td>
    </ng-container>

    <!-- First Name Column -->
    <ng-container matColumnDef="first name">
      <th mat-header-cell *matHeaderCellDef> First Name </th>
      <td mat-cell *matCellDef="let element">{{element.name.first}} {{element.name.last}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="navigateToUserDetails(row)"></tr>
  </table>
  
  <!-- <mat-paginator
    [length]="100"
    [pageSize]="10"
    aria-label="Select page">
  </mat-paginator> -->
</ng-container>

<ng-template #loading>
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</ng-template>

<app-people-details></app-people-details>